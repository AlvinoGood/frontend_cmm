src/
└─ app/
│   ├─ core/                         # App-wide singletons & cross-cutting code
│   │  ├─ services/                  # Global API/auth/session services used across the app
│   │  ├─ models/                    # Global interfaces & class models (DTOs / ViewModels)
│   │  ├─ constants/                 # App constants (routes, limits, roles, feature flags)
│   │  ├─ enums/                     # Global TypeScript enums (SysRole, MedicalRole, Status, etc.)
│   │  ├─ helpers/                   # Pure utility/helper functions (dates, formatters, jwt)
│   │  ├─ guards/                    # Auth/role guards for route protection
│   │  ├─ interceptors/              # HTTP interceptors (auth, error, refresh-token, base URL)
│   │  └─ config/                    # DI tokens & environment adapters (runtime config for API base)
│   │
│   ├─ shared/                       # Reusable, generic building blocks (no business logic)
│   │  ├─ pipes/                     # Pure pipes (currency, i18n helpers, safeHtml, etc.)
│   │  ├─ directives/                # Attribute/structural directives (focus, mask, etc.)
│   │  ├─ components/                # Dumb/presentational components only
│   │  │  ├─ ui/                     # Buttons, inputs, tables, empty-states, pagers
│   │  │  └─ layout/                 # Shell widgets: header, sidebar, breadcrumbs, footer
│   │  └─ utils/                     # Reusable helpers (pagination calc, validators, dni-format)
│   │
│   ├─ components/                   # Feature pages grouped by domain/role
│   │  ├─ auth/                      # Public auth flows (ES UI, EN API)
│   │  │  ├─ login/                  # DNI + password (stores JWT, decodes roles)
│   │  │  ├─ register/               # DNI, email, password (default role "user")
│   │  │  ├─ forgot/                 # Request reset (email token)
│   │  │  └─ reset/                  # Reset with token (pastel, friendly screens)
│   │  │  └services/
│   │  │  │  └─ password-recovery.service.ts  # Handles forgot/reset email flow
│   │  │  └─ auth.routes.ts          # Lazy sub-routes for auth domain
│   │  ├─ patient/                   # Patient-facing features
│   │  │  ├─ dashboard/              # View/download own encounter PDFs (read-only)
│   │  │  ├─ services/               # Services catalog + "generate ticket" (confirm/cancel)
│   │  │  ├─ payments/               # Tickets list (pending/paid/expired)
│   │  │  ├─ health-card/            # Request/view current & previous medical cards
│   │  │  ├─ profile/                # Personal data (dni, email) - read-only
│   │  │  └─ patient.routes.ts       # Lazy sub-routes for patient domain
│   │  ├─ medical/                   # Clinician features (doctor/nurse/etc.)
│   │  │  ├─ dashboard/              # KPIs + last two PDFs created by this clinician
│   │  │  ├─ encounters/             # Create encounter (form_meobps / form_dentist) + review step
│   │  │  ├─ appointments/           # Search by DNI → view/download patient PDFs (any specialty)
│   │  │  ├─ services/               # Services available for clinician's specialty (read-only)
│   │  │  ├─ payments/               # Tickets by patient (search by DNI, read-only)
│   │  │  ├─ attended/               # Patients attended by this clinician (paginated)
│   │  │  ├─ profile/                # Professional profile (email, role, specialty)
│   │  │  └─ medical.routes.ts       # Lazy sub-routes for medical domain
│   │  └─ admin/                     # Administrative features
│   │     ├─ dashboard/              # KPIs: users, encounters, tickets, services
│   │     ├─ encounters/             # Audit any encounter (search by DNI, read-only)
│   │     ├─ appointments/           # All attended appointments (paginated + search)
│   │     ├─ services/               # CRUD services
│   │     ├─ payments/               # View/audit tickets (paginated)
│   │     ├─ users/                  # Manage accounts, promote to medical, assign specialty
│   │     ├─ templates/              # Medical templates (medical_template) & specialties (medical_roles)
│   │     └─ profile/                # Admin personal data
│   │     └─ admin.routes.ts         # Lazy sub-routes for admin domain
│   │
│   ├─ app.routes.ts                 # Root routes (lazy-load each domain's sub-routes)
│   ├─ app.config.ts                 # Root providers (provideRouter, HttpClient, interceptors)
│   ├─ app.html                      # Root component template
│   ├─ app.scss                      # Root component styles
│   ├─ app.spec.ts                   # Root component tests
│   └─ app.ts                        # Root standalone component
│
├─ environments/                    # Environment files (used via DI tokens)
│  ├─ environment.ts                # Dev/staging environment values
│  └─ environment.prod.ts           # Production environment values
│
├─ index.html                       # App host page
├─ main.ts                          # bootstrapApplication(App, appConfig)
└─ styles.scss                      # Global styles / Tailwind entry
