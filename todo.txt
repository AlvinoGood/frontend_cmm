GET {{BASE_URL}}/medical-center/v1/medical-cards
Description: List all medical cards (returns age, work_place, area, p_user_id (DNI), status, care_date, expiration_date, created_at)
Token: medical | admin
Authorization: Bearer {{MEDICAL_TOKEN}} or {{ADMIN_TOKEN}}

PATCH {{BASE_URL}}/medical-center/v1/medical-cards/1/status
Description: Update medical card status (pending | paid)
Token: medical | admin
Authorization: Bearer {{MEDICAL_TOKEN}} or {{ADMIN_TOKEN}}
Content-Type: application/json
{
  "status": "paid"
}

CREATE TABLE medical_card (
  medical_card_id BIGSERIAL PRIMARY KEY,
  age             TEXT,
  marital_status  TEXT,
  level_education TEXT,
  work_place      TEXT,
  area            TEXT,
  blood_group     VARCHAR(3) CHECK (blood_group IN ('A+','A-','B+','B-','AB+','AB-','O+','O-')),
  clinical_history TEXT,
  care_date       TIMESTAMPTZ,
  expiration_date TIMESTAMPTZ,
  p_user_id       BIGINT NOT NULL REFERENCES users(user_id) ON UPDATE CASCADE ON DELETE CASCADE,
  result_stool    TEXT,
  status          VARCHAR(10) NOT NULL CHECK (status IN ('pending','paid')),
  created_at      TIMESTAMPTZ NOT NULL DEFAULT now()
);

CREATE INDEX medical_card_user_idx   ON medical_card(p_user_id);
CREATE INDEX medical_card_status_idx ON medical_card(status);


---
Example of return after to call API "GET {{BASE_URL}}/medical-center/v1/medical-cards":

{
    "success": true,
    "data": {
        "total": 2,
        "items": [
            {
                "age": "45",
                "work_place": "Flores",
                "area": "Av. Rosales",
                "p_user_id": "16161616",
                "status": "paid",
                "care_date": "2025-11-20T05:15:00.000Z",
                "expiration_date": "2026-11-20T05:15:00.000Z",
                "created_at": "2025-11-17T05:16:48.631Z"
            },
            {
                "age": "29",
                "work_place": "Acme Corp",
                "area": "IT",
                "p_user_id": "16161616",
                "status": "pending",
                "care_date": "2025-10-06T10:00:00.000Z",
                "expiration_date": "2026-10-06T10:00:00.000Z",
                "created_at": "2025-11-17T04:30:20.851Z"
            }
        ]
    },
    "timestamp": "2025-11-18T04:37:38.521Z"
}